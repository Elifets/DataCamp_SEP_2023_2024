<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Datacamp pour le master SEP - Prérequis des mathématiques</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Datacamp pour le master SEP</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Accueil</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./M1SEP.html" rel="" target="">
 <span class="menu-text">M1 SEP</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./M2SEP.html" rel="" target="">
 <span class="menu-text">M2 SEP</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./LOGICIELS.html" rel="" target="">
 <span class="menu-text">Logiciels</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Prérequis des mathématiques</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="fondements-de-probabilité" class="level2">
<h2 class="anchored" data-anchor-id="fondements-de-probabilité">Fondements de Probabilité <img src="images/dé.png" class="img-fluid" width="42"></h2>
<section id="quelques-définitions" class="level3">
<h3 class="anchored" data-anchor-id="quelques-définitions">Quelques définitions</h3>
<ul>
<li><p>On appelle épreuve E toute expérience probabiliste.</p></li>
<li><p>On appelle univers de E l’ensemble, généralement noté <strong>Ω</strong>, de tous les résultats possibles de l’épreuve E (appelés ‘’événements élémentaires’’)</p></li>
<li><p>Lancer une paire de dés équilibrés et en retenir la somme est une épreuve.</p></li>
</ul>
<p><span class="math display">\[
𝛀 = \bigl\{ 2,3,4,5,6,7,8,9,10,11,12\bigl\}
\]</span></p>
</section>
<section id="evénements" class="level3">
<h3 class="anchored" data-anchor-id="evénements">Evénements</h3>
<p>Un événement est un sous-ensemble de <strong>Ω</strong>.</p>
<ul>
<li>L’<strong>intersection</strong> de A et B, notée <span class="math inline">\(A\ ∩ B\)</span>, est un événement. Il est réalisé uniquement si A et B se produisent.</li>
</ul>
<!-- -->
<ul>
<li><p>La <strong>réunion</strong> de A et B, notée A <em>B</em>, est un événement. Il est réalisé si A ou B se produit.</p>
<p>Deux événements remarquables sont à retenir:</p></li>
<li><p>L’événement certain <span class="math inline">\(𝛀_i\)</span>.</p></li>
<li><p>L’événement impossible <span class="math inline">\(∅_i\)</span>.</p></li>
</ul>
<p>Tous les éléments qui n’appartiennent pas à <span class="math inline">\(A\)</span> appartiennent à un événement que l’on appelle le <strong>complémentaire de</strong> <span class="math inline">\(A\)</span><strong>.</strong> On le note <span class="math inline">\(A^c\ ou\ \overline{A}\)</span> .</p>
<p>On dit que deux événements <strong>A</strong> et <strong>B</strong> sont <strong>incompatibles</strong> s’ils ne peuvent pas être réalisés enmême temps.</p>
<p>Si A, B et C sont des événements de <strong>Ω</strong>, les propriétés suivantes sont toujours vérifiées:</p>
<p><span class="math inline">\(A\ ∪ \ \overline{A}\ = 𝛀\)</span></p>
<p><span class="math inline">\(A\ ∩ \ \overline{A}\ = ∅\)</span></p>
<p><span class="math inline">\(\overline{A∩B}\ = \bar{A}\ ∪\ \bar{B}\ et\ \overline {A∪B}\ = \bar{A}\ ∩\ \bar{B}\ (lois\ de\ Morgan)\)</span></p>
<p><span class="math inline">\(A\ ∩\ (B\ ∪\ C)\ = (A\ ∩ B)\ ∪\ (A\ ∩\ C)\)</span></p>
<p><span class="math inline">\(A\ ∪\ (B\ ∩\ C)\ = (A\ ∪ B)\ ∩\ (A\ ∪ \ C)\)</span></p>
</section>
<section id="partitions" class="level3">
<h3 class="anchored" data-anchor-id="partitions">Partitions</h3>
<p>La famille d’événements forme une partition de 𝛀 si :</p>
<p><span class="math display">\[
∪_i\ A_i\ =\ \Omega\ et\ A_i\ \cap\ A_j\ = \emptyset;\ \forall i\ \ne\ j;\ i\ \in I
\]</span></p>
<p>Une partition remarquable est la famille qui contient l’événement A et son complémentaire.</p>
</section>
<section id="tribus-et-boréliens" class="level3">
<h3 class="anchored" data-anchor-id="tribus-et-boréliens">Tribus et boréliens</h3>
<p>Comment pouvons nous qualifier l’ensemble des événements ?</p>
<p>Une tribu est une famille <span class="math inline">\(T\)</span> de parties de l’ensemble <span class="math inline">\(\Omega\)</span> qui vérifie les propriétés suivantes:</p>
<ul>
<li><p><span class="math inline">\(\Omega\ \in T\)</span></p></li>
<li><p>Si <span class="math inline">\((A_n)_n\)</span> est une suite dénombrable d’éléments de <span class="math inline">\(T_i\)</span> alors <span class="math inline">\(\cup\ A_n\ \in\ T\)</span></p></li>
</ul>
<p>Si <span class="math inline">\(A\)</span> est un élément de <span class="math inline">\(T_i\)</span> alors son complémentaire l’est aussi</p>
<p>De plus, si <span class="math inline">\(T\)</span> est une tribu, alors:</p>
<ul>
<li><p><span class="math inline">\(\emptyset\ \in\ T\)</span></p></li>
<li><p>Si <span class="math inline">\((A_n)_n\)</span> est une suite d’éléments de <span class="math inline">\(T_i\)</span> alors <span class="math inline">\(\cap\ A_n\ \in\ T\)</span>.</p></li>
</ul>
<p><em>Exemple de Tribus:</em></p>
<p>Commençons par le cas discret.</p>
<p>On considère l’expérience “Lancer une pièce de monnaie équilibrée”.</p>
<p>On notera: P “Pile apparait” et F “Face apparait”.</p>
<p>Dans ce cas, l’univers est l’ensemble {P,F} et <span class="math inline">\(T\)</span> = { <span class="math inline">\(\Omega,\ \emptyset,\)</span> P, F } est une tribu.</p>
<p>En général, l’ensemble des parties est une tribu (classique).</p>
<p>Pour le cas continu, les intervalles du type <span class="math inline">\([a, +\infty[\ ;\ ]-\infty,a]\)</span> sont des tribus.</p>
<p>Nous les appelons <strong><em>des Boréliens</em></strong>.</p>
<p>Soient A et B deux événements. Les propriétés suivantes sont toujours vraies:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/math.png" class="img-fluid figure-img"></p>
</figure>
</div>
<ol type="1">
<li><p><span class="math inline">\(P(\bar{A})\ =\ 1\ -\ P(A)\)</span></p></li>
<li><p><span class="math inline">\(P(B)\ =\ P(A\ \cap\ B)\ +\ P(\bar{A}\ \cap\ B)\)</span></p></li>
<li><p><span class="math inline">\(Si\ A\ \subset\ B\ alors\ P(A)\ \leq\ P(B)\)</span></p></li>
<li><p><span class="math inline">\(0\ \leq\ P(A)\ \leq\ 1\)</span></p></li>
<li><p><span class="math inline">\(P(A\ \cup\ B)\  =\ P(A)\ +\ P(B)\ -\ P(A\ \cap\ B)\)</span></p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/math3.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>De plus, Considérant une suite <span class="math inline">\((A_n)_n\)</span> d’événements. On a alors :</p>
<p><span class="math display">\[
P(\bigcup\limits_{k=1}^{+\infty} A_{k})\ =  \lim_{x\to+\infty} (P(\bigcup\limits_{k=1}^{n} A_{k}))
\]</span></p>
<p><span class="math display">\[
P(\bigcap\limits_{k=1}^{+\infty} A_{k})\ =  \lim_{x\to+\infty} (P(\bigcap\limits_{k=1}^{n} A_{k}))
\]</span></p>
<p><span class="math display">\[
P \Bigl( \bigcup\limits_{k=1}^{+\infty} A_{k}
\Bigl)
\ \leq\ \sum_{k=1}^{+\infty}\ P(A_k)
\]</span></p>
<p><em>Et si :</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/math2.png" class="img-fluid figure-img" width="240"></p>
</figure>
</div>
<p><span class="math display">\[
\bigcup\limits_{k=1}^{n} A_{k}\ =\ \Omega
\]</span></p>
<p><em>Alors</em> :</p>
<p><span class="math display">\[
P(B)\ =\ \sum_{k=1}^{n}\ P(B\ \cap\ A_k)
\]</span></p>
</section>
<section id="mesure" class="level3">
<h3 class="anchored" data-anchor-id="mesure">Mesure</h3>
<p>Soit E un ensemble muni d’une tirbu <span class="math inline">\(T\)</span> . On appelle mesure toute application m : <span class="math inline">\(T\)</span> <span class="math inline">\(\rightarrow\)</span> <span class="math inline">\(R^+\)</span> telle que:</p>
<ul>
<li><p>m(<span class="math inline">\(\emptyset\)</span>) = 0.</p></li>
<li><p>Si <span class="math inline">\((A_n)_n\)</span> est une suite d’éléments de <span class="math inline">\(T\)</span> deux à deux disjoints alors:</p></li>
</ul>
<p><span class="math display">\[
m(\cup_n\ A_n)\ =\ \Sigma_n\ m(A_n)
\]</span></p>
</section>
<section id="probabilité" class="level3">
<h3 class="anchored" data-anchor-id="probabilité">Probabilité</h3>
<p>Soit E un ensemble muni d’une tribu <span class="math inline">\(T\)</span> On appelle probabilité toute m : <span class="math inline">\(T\ \rightarrow\ R^+\)</span> telle que:</p>
<ul>
<li><p>P(<span class="math inline">\(\emptyset\)</span>) = 0</p></li>
<li><p>Si <span class="math inline">\((A_n)_n\)</span> est une suite d’éléments de <span class="math inline">\(T\)</span> deux à deux <strong><em>disjoints</em></strong> alors:</p>
<p><span class="math display">\[
P(\cup_n\ A_n)\ =\ \Sigma_n\ P(A_n)
\]</span></p></li>
</ul>
</section>
<section id="probabilités-conditionnelles" class="level3">
<h3 class="anchored" data-anchor-id="probabilités-conditionnelles">Probabilités conditionnelles</h3>
<p>En théorie des probabilités, nous nous intéressons souvent au comportement d’un aléa, sachant qu’un autre événement est déjà passé.</p>
<p>C’est ce que nous appelons <strong>Les Probabilités Conditionnelles.</strong></p>
<p>Considérant deux événements de proba non nulles A et B, la probabilité conditionnelle de A sachant que B est réalisé (couramment dit A sachant B) est :</p>
<p><span class="math display">\[
P(A\setminus B)\ =\
\frac{P(A\ \cap\ B)}{P(B)}
\]</span></p>
<p>Par commutativité de l’intersection nous avons : <span class="math inline">\(P(A\ \cap\ B)\ =\ P(B\ \cap\ A)\)</span></p>
<p>Et donc en utilisant la formule ci-dessus :</p>
<p><span class="math display">\[
P(B\setminus A)P(A)\ =\ P(A\setminus B)P(B)
\]</span></p>
<p>D’où alors :</p>
<p><span class="math display">\[
P(B\setminus A)\ =\
\frac{P(A\setminus B)P(B)}{P(A)}
\]</span></p>
<p>C’est ce que nous appelons : <strong><em>La formule de BAYES</em></strong></p>
</section>
<section id="indépendance" class="level3">
<h3 class="anchored" data-anchor-id="indépendance">Indépendance</h3>
<p>Deux événements A et B sont dits indépendants si et seulement si :</p>
<p><span class="math display">\[
P(A\ \cap\ B)\ =\ P(A)P(B)
\]</span></p>
<p>En termes courants, deux événements sont indépendants si le résultat de l’un n’influence aucunement l’aboutissement de l’autre.</p>
<p>Sous condition d’indépendance de A et B, la notion de la probabilité conditionnelle tombe à l’eau, car les événements évoluent l’un sans se soucier de l’autre.</p>
<p>Ceci se traduit par :</p>
<p><span class="math display">\[
P(A\setminus B)\ =\ P(A)\\P(B\setminus A)\ =\ P(B)
\]</span></p>
<p>Notons que si A est indépendant de B, il le sera par rapport à son coplémentaire également et vice versa.</p>
<p>En général, pour une suite <span class="math inline">\((A_n)_n\)</span> d’événements indépendants, on a :</p>
<p><span class="math display">\[
P(\bigcap_{i=1}^{n}A_i)\ =\ \prod_{i=1}^{n} P(A_i)\ =\ P(A_1)\ ...\ P(A_n)
\]</span></p>
<p>Cette formule est largement utilisée en statistique.</p>
<p><strong><em>Remarque importante :</em></strong></p>
<p>Il ne faut pas confondre l’indépendance et l’incompatibilité des événements.</p>
</section>
<section id="variable-aléatoire" class="level3">
<h3 class="anchored" data-anchor-id="variable-aléatoire">Variable aléatoire</h3>
<p>Une variable aléatoire est un nombre qui dépend du résultat d’une expérience aléatoire. Chaque exécution de l’expérience génère une réalisation de la variable aléatoire.</p>
<p>Mathématiquement, on définit une variable aléatoire X comme une fonction X : <span class="math inline">\(T\ \rightarrow\ R\)</span> qui associe à chaque événement S, un réel X(S).</p>
<p>Par exemple, dans une queue pour la caisse d’un magasin, le nombre de clients est une variable aléatoire. La durée de traitement de chaque requte aussi.</p>
<p>Remarquons que la première est un nombre entier. On dit qu’elle est à support discret. Alors que la deuxième est une durée (un nombre réel). On dit qu’elle est à support continu.</p>
</section>
<section id="quest-ce-qui-caractérise-une-variable-aléatoire" class="level3">
<h3 class="anchored" data-anchor-id="quest-ce-qui-caractérise-une-variable-aléatoire">Qu’est ce qui caractérise une variable aléatoire ?</h3>
<section id="fonction-de-répartition" class="level4">
<h4 class="anchored" data-anchor-id="fonction-de-répartition">Fonction de répartition</h4>
<p>Une VA traduit le résultat d’une expérience aléatoire en nombre réel. La fontion de répartition transporte le calcul des probabilités concernant les réalisations de la VA.</p>
<p>C’est la fonction définie par :</p>
<p><span class="math display">\[
F_x(x)\ =\ P(X\ \leq\ x)
\]</span></p>
<p>Propriétés :</p>
<p><span class="math display">\[
\forall x;\ 0\leq F_x(x)\leq 1
\]</span></p>
<p><span class="math inline">\(F_x\)</span> est une fonction croissante.</p>
<p><span class="math display">\[
\lim_{x\to-\infty} F_x(x)\ =\ 0\\\lim_{x\to\infty} F_x(x)\ =\ 1
\]</span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/math6.png" class="img-fluid figure-img" width="347"></p>
</figure>
</div>
<p><strong>Cas discret</strong> <strong>Cas continu</strong></p>
</section>
<section id="probabilité-ponctuelle-densité" class="level4">
<h4 class="anchored" data-anchor-id="probabilité-ponctuelle-densité">Probabilité ponctuelle / Densité</h4>
<p><strong>Cas discret : Probabilité ponctuelle</strong></p>
<p>La probabilité ponctuelle est la fonction qui décrit les sauts de la fonction de répartition :</p>
<p><span class="math display">\[
P(X=K)\ =\ P(X\leq K)\ -\ P(X\leq K-1)\ =\ P_K
\]</span></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/math5.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p><strong>Cas continu : densité de probabilité</strong></p>
<p>La densité est la fonction qui décrit les variations de la fonction de répartition :</p>
<p><span class="math display">\[
f_x(x)\ =\ \frac{\delta F_x}{\delta x}(x)\\\int f_x = 1
\]</span></p>
</section>
</section>
<section id="moments" class="level3">
<h3 class="anchored" data-anchor-id="moments">Moments</h3>
<p><strong><em>Espérance</em></strong></p>
<p>L’éspérance d’une variable aléatoire est sa valeur attendue. C’est une mesure de localisation de la distribution.</p>
<p>Dans le cas discret :</p>
<p><span class="math display">\[
E(X)= \sum_{k\in X(\Omega)} k.P(X=k)
\]</span></p>
<p>Alors que dans le cas continu :</p>
<p><span class="math display">\[
E(X) = \int_{x\in X(\Omega)} x.f_x(x).dx
\]</span></p>
<p>Thérorème de Transfert :</p>
<p><span class="math display">\[
E(\phi(X)) = \sum_{k\in X(\Omega)} \phi(k).P(X=k)\\ E(\phi(X)) = \int_{x\in X(\Omega)} \phi(x).f_x(x).dx
\]</span></p>
<p><strong><em>Variance</em></strong></p>
<p>La variance d’une variable aléatoire décrit la dispersion de la variable aléatoire autour de sa valeur moyenne (son espérance). Elle est définie par :</p>
<p><span class="math display">\[
V(X)=E(X^2)\ -\ (E(X))^2\ =\  E((x\ -\ E(X)^2)
\]</span></p>
<p>Sa racine carrée est appelée écart-type et notée généralement :</p>
<p><span class="math display">\[
\sigma(X)= \sqrt{V(X)}
\]</span></p>
<p><strong><em>Centrage et réduction</em></strong></p>
<p>Le centrage consiste à localiser la distribution autour de l’origine et la réduction consiste à normaliser la dispersion. La technique est simple :</p>
<p><span class="math display">\[
Y= \frac{X\ -\ E(X)}{\sigma (X)}
\]</span></p>
<p><strong><em>Moments d’ordre r :</em></strong></p>
<p>Le moment d’ordre r est défini par :</p>
<p><span class="math display">\[
\mu_r = E(X^r)
\]</span></p>
<p>Le moment centré d’ordre r est défini ainsi :</p>
<p><span class="math display">\[
\tilde{\mu_r}= E((X\ -\ E(X))^r)
\]</span></p>
</section>
<section id="couples-aléatoires" class="level3">
<h3 class="anchored" data-anchor-id="couples-aléatoires">Couples aléatoires</h3>
<p>La fonction <span class="math inline">\(F_{x,y}(x,y) = P(X\leq x\ \cap\ Y\leq y)\)</span> est dite distribution conjointe de X et de Y.</p>
<p>Dans le cas continu, la fonction définie par :</p>
<p><span class="math display">\[
f_{x,y}(x,y) = \frac{\delta^2}{\delta_x \delta_y} F_{x,y}(x,y)
\]</span></p>
<p>Est une densité conjointe du couple (X,Y). On a donc :</p>
<p><span class="math display">\[
F_{x,y}(x,y) = \int_{-\infty}^{x} \int_{-\infty}^{y} f_{x,y}(t,u)dtdu
\]</span></p>
<p>Dans le cas discret, on définit la fonction de fréquences conjointes :</p>
<p><span class="math display">\[
P(X=x_i,Y=y_j) = p_{ij}
\]</span></p>
<p>Et on a donc :</p>
<p><span class="math display">\[
F_{x,y}= \sum_{i:x_i\leq x}\sum_{j:y_j\leq y} p_{ij}
\]</span></p>
<p><strong><em>Loi marjinale</em></strong></p>
<p>On définit la loi marginale de X:</p>
<p><span class="math display">\[
f_x(x) = \int_{-\infty}^{+\infty} f_{x,y}(x,y)dy
\]</span></p>
<p>Dans le cas continu, ou encore :</p>
<p><span class="math display">\[
f_x(x_i) = \sum_j p_{ij}
\]</span></p>
<p>Dans le cas discret :</p>
<p>(De meme on peut définir la densité marginale de Y)</p>
<p>Si X et Y sont indépendants, alors :</p>
<p><span class="math display">\[
f_{x,y}(x,y) = f_x(x)f_y(y)
\]</span></p>
<p><strong><em>Covariance</em></strong></p>
<p>La covariance mesure l’intensité de la relation linéaire entre deux variables aléatoires X et Y.</p>
<p><span class="math display">\[
Cov(X,Y) = E(XY)\ -\ E(X)E(Y)
\]</span></p>
<p>Si X et Y sont indépendants, alors :</p>
<p><span class="math display">\[
Cov(X,Y) = 0
\]</span></p>
<p><em>Attention</em> : La réciproque n’est pas vraie.</p>
</section>
<section id="à-mémoriser" class="level3">
<h3 class="anchored" data-anchor-id="à-mémoriser">À mémoriser</h3>
<p>Soient U, V, X et Y des variables aléatoires et a, b, c et d des constantes réelles.</p>
<p><strong><em>Espérance</em></strong></p>
<p><span class="math display">\[
E(aX + bY)\ =\ aE(X) + bE(Y)\\
E(a) = a
\]</span></p>
<p><strong><em>Variance</em></strong></p>
<p><span class="math display">\[
V(aX) = a^2 V(X)
\]</span></p>
<p><span class="math display">\[
V(A)=0
\]</span></p>
<p><span class="math display">\[
V(X+Y) = V(X)+V(Y)-2Cov(X,Y)
\]</span></p>
<p><span class="math display">\[
V(X-Y)=V(X)+V(Y)-2Cov(X,Y)
\]</span></p>
<p><strong><em>Covariance</em></strong></p>
<p><span class="math display">\[
Cov(X,Y)=Cov(Y,X)
\]</span></p>
<p><span class="math display">\[
Cov(aX+b,cY+d)= ac.Cov(X,Y)
\]</span></p>
<p><span class="math display">\[
Cov(aX+bY,U)=aCov(X,U)+bCov(Y,U)
\]</span></p>
<p><span class="math display">\[
Cov(X,cU+dV)=cCov(X,U)+dCov(X,V)
\]</span></p>
<p><span class="math display">\[
Cov(aX+bY,cU+dV)=ac.Cov(X,U)+adCov(X,U)+bcCov(Y,U)+bdCov(Y,V)
\]</span></p>
</section>
<section id="vecteurs-aléatoires" class="level3">
<h3 class="anchored" data-anchor-id="vecteurs-aléatoires">Vecteurs aléatoires</h3>
<p>Un vecteur aléatoire est un n-uplet formé de variables aléatoires. On note <span class="math inline">\((X_1,X_2,…,X_n)^t\)</span></p>
<p>L’espérance est toujours linéaire. Pour une suite <span class="math inline">\((a_i)_{i\in \left\{1,…,n\right\}}\)</span> de réels, on a :</p>
<p><span class="math display">\[E(a_1X_1+a_2X_2+...+a_nX_n)= a_1E(X_1)+a_2E(X_2)+...+a_nE(X_n)\]</span>Pour les variables indépendantes, on a :</p>
<p><span class="math display">\[V(X_1 +X_2
+...+ X_n) = V(X_1)+ ...+V(X_n)
\]</span></p>
</section>
<section id="lois-usuelles" class="level3">
<h3 class="anchored" data-anchor-id="lois-usuelles">Lois usuelles</h3>
<p><strong><em>Lois discètes</em></strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Lois_discrètes-01.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p><strong><em>Lois absolument continues</em></strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Lois_continues.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p><strong><em>Théorème de Fisher :</em></strong></p>
<p>Soient <span class="math inline">\(\sigma &gt; 0,\ m\in \mathbb{R}\ et\ X_1,...,X_n\)</span> des variables aléatoires indépedantes et de même loi <span class="math inline">\(N(m,\sigma^2)\)</span>. Alors, si <span class="math inline">\(X=(X_1, …, X_n)\)</span> :</p>
<ul>
<li><p><span class="math inline">\(\bar{X_n}\ et\ S_n(X)\)</span> sont indépedantes;</p></li>
<li><p><span class="math inline">\((n-1)S_n^2\  /\  \sigma^2 \thicksim \chi^2_{n-1}\)</span>;</p></li>
<li><p><span class="math inline">\(\sqrt{n}(\bar{X}_n - m)\ /\ S_n(X)\thicksim \tau_{n-1}\)</span>;</p></li>
</ul>
<p><strong><em>Théorème de Cochran :</em></strong></p>
<p>Soient <span class="math inline">\(\sigma &gt; 0, X \thicksim N_n(0,\sigma^2)\)</span> et <span class="math inline">\(V_1 \oplus … \oplus V_p\)</span> une décomposition de <span class="math inline">\(\mathbb{R}^n\)</span> en sous-espaces vectoriels orthogonaux de dimensions <span class="math inline">\(r_1, … , r_p\)</span>.</p>
<p>Alors les projectons orthogonales <span class="math inline">\(\pi_1, … , \pi_p\)</span> de X sur <span class="math inline">\(V_1, … , V_p\)</span> sont des vecteurs gaussiens indépendants et pour chaque i = 1, … , p:</p>
<p><span class="math display">\[
\frac{1}{\sigma^2}\ ||\pi_i||^2 \thicksim \chi^2_{r_i}
\]</span></p>
</section>
</section>
<section id="statistique-inférentielle" class="level2">
<h2 class="anchored" data-anchor-id="statistique-inférentielle">Statistique inférentielle</h2>
<section id="léchantillonnage" class="level3">
<h3 class="anchored" data-anchor-id="léchantillonnage">L’échantillonnage</h3>
<p>Soit X une v.a. sur <span class="math inline">\(\Omega\)</span> . Un échantillon de X de taille n est un n-uplet <span class="math inline">\((X_i , …, X_n)\)</span> de v.a. iid.</p>
<p>Une réalisation de cet échantillon est un n-uplet de réels <span class="math inline">\((x_1, …, x_n)\)</span> où <span class="math inline">\(X_i(\omega) = x_i\)</span>.</p>
</section>
<section id="estimateur" class="level3">
<h3 class="anchored" data-anchor-id="estimateur">Estimateur</h3>
<p>Un estimateur de <span class="math inline">\(\theta\)</span> est une statistique <span class="math inline">\(\widehat{\theta}\)</span> (donc une fonction de <span class="math inline">\((X_1, …, X_n)\)</span>) qui ne dépend pas de <span class="math inline">\(\theta\)</span> et dont la réalisation est envisagée comme une “bonne valeur” du paramètre <span class="math inline">\(\theta\)</span>.</p>
</section>
<section id="risque-quadratique" class="level3">
<h3 class="anchored" data-anchor-id="risque-quadratique">Risque quadratique</h3>
<p>La qualité d’un estimateur est mesurée à travers son risque quadratique définie par :</p>
<p><span class="math display">\[
R_{\widehat{\theta}}(\theta) = V(\widehat{\theta}) + b_{\widehat{\theta}}^2(\theta)
\]</span></p>
</section>
<section id="biais" class="level3">
<h3 class="anchored" data-anchor-id="biais">Biais</h3>
<p>On appelle biais d’un estimateur <span class="math inline">\(\widehat{\theta}\)</span> pour <span class="math inline">\(\theta\)</span> la valeur :</p>
<p><span class="math display">\[
b_{\widehat{\theta}}(\theta) = E(\widehat{\theta}) - \theta
\]</span></p>
<p>Un estimateur T est dit sans biais si :</p>
<p><span class="math display">\[
E(\widehat{\theta}) = \theta
\]</span></p>
</section>
<section id="statistique" class="level3">
<h3 class="anchored" data-anchor-id="statistique">Statistique</h3>
<p>On appelle statistique sur un n-échantillon une fonction mesurable de <span class="math inline">\((X_1, …, X_n)\)</span> ne dépendant pas de <span class="math inline">\(\theta\)</span>.</p>
</section>
<section id="consistance" class="level3">
<h3 class="anchored" data-anchor-id="consistance">Consistance</h3>
<p>Un estimateur <span class="math inline">\(\widehat{\theta}\)</span> est dit fortement consistant s’il converge en presque-sûrement vers <span class="math inline">\(\theta\)</span> lorsque <span class="math inline">\(n\rightarrow +\infty\)</span>.</p>
</section>
<section id="moyenne-empirique" class="level3">
<h3 class="anchored" data-anchor-id="moyenne-empirique">Moyenne empirique</h3>
<p>On appelle moyenne de l’échantillon ou moyenne empirique, la statistique notée <span class="math inline">\(\bar{X}\)</span> définie par :</p>
<p><span class="math display">\[
\bar{X} = \frac{1}{n} \sum_{i=1}^{n} X_i
\]</span></p>
</section>
<section id="variance-empirique" class="level3">
<h3 class="anchored" data-anchor-id="variance-empirique">Variance empirique</h3>
<p>On appelle variance empirique non biaisée, la statistique notée <span class="math inline">\(S_n^2\)</span> définie par :</p>
<p><span class="math display">\[
S_n^2 = \frac{1}{n-1} \sum_{i=1}^n (X_i\ -\ \bar{X})
\]</span></p>
</section>
<section id="estimation-par-la-méthode-du-maximum-de-vraisemblance" class="level3">
<h3 class="anchored" data-anchor-id="estimation-par-la-méthode-du-maximum-de-vraisemblance">Estimation par la méthode du maximum de vraisemblance</h3>
<p>On appelle fonction de vraisemblance de <span class="math inline">\(\theta\)</span> d’un n-échantillon, la fonction suivante :</p>
<p><span class="math display">\[
V_{x_1, ..., x_n}(\theta) = f_{x_1, ..., x_n}(x_1, ..., x_n) = \prod_{i=1}^nf_{x_1,\theta}(x_i)
\]</span></p>
<p>avec</p>
<p><span class="math display">\[
f_{x_1,\theta}(x_i) = \left\{
    \begin{array}{ll}
       f_{X,\theta}(x)\ lorsque\ X\ est\ une\ v.a.\ continue\ de \ densité\ f_{X,\theta}\\
       P_{X,\theta}(x)\ lorsque\ X\ est\ une\ v.a.\ discrète\ de\ probabilité\ ponctuelle\ P_{X,\theta}
    \end{array}
\right.
\]</span></p>
<p>La méthode consistant à estimer <span class="math inline">\(\theta\)</span> par la valeur qui maximise V (vraisemblance) s’appelle méthode du maximum de vraisemblance.</p>
<p>Les étapes à suivre sont les suivantes :</p>
<ul>
<li><p>Calculer la fonction de vraisemblance ci-dessus;</p></li>
<li><p>Calculer le log de la fonction de vraisemblance noté L;</p></li>
<li><p>Calculer la dérivée de la log-vraisemblance obtenue par rapport à <span class="math inline">\(\theta\)</span>;</p></li>
<li><p>Trouver la valeur <span class="math inline">\(\widehat{\theta}\)</span> qui annule la dérivée;</p></li>
<li><p>Vérifier que la dérivée seconde par rapport à <span class="math inline">\(\theta\)</span> est négative en <span class="math inline">\(\widehat{\theta}\)</span>.</p></li>
</ul>
<p>En résumé, si la dérivée première s’annulle en <span class="math inline">\(\theta = \widehat{\theta}\)</span> et que la dérivée seconde est négative en <span class="math inline">\(\theta = \widehat{\theta}\)</span>, alors <span class="math inline">\(\widehat{\theta}\)</span> est un maximum local de <span class="math inline">\(V_{x_1, …, x_n}(\theta\)</span>).</p>
</section>
<section id="intervalle-de-confiance" class="level3">
<h3 class="anchored" data-anchor-id="intervalle-de-confiance">Intervalle de confiance</h3>
<p>Un intervalle de confiance permet d’avoir une idée de la marge d’erreur de l’échantillon représentatif sélectionné. En estimant cette marge d’erreur, on est donc en mesure de faire une estimation assez précise de ce qu’aurait été le résultat réel.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/confiance.png" width="675" height="394" class="figure-img"></p>
</figure>
</div>
</section>
<section id="test-dhypothèses" class="level3">
<h3 class="anchored" data-anchor-id="test-dhypothèses">Test d’hypothèses</h3>
<p>Un test d’hypothèses sert à répondre à une question donnant 2 résultats alternatives complémentaires. Il faut alors définir :</p>
<ul>
<li><p>La question (des hypothèses);</p></li>
<li><p>Une façon d’y répondre (une règle de décision).</p></li>
</ul>
</section>
<section id="hypothèse" class="level3">
<h3 class="anchored" data-anchor-id="hypothèse">Hypothèse</h3>
<p>Une hypothèse est un ensemble de valeurs des paramètres inconnus de la population.</p>
<p>Dans une question, on distingue en général deux hypothèses étant :</p>
<ul>
<li><p>Une hypothèse nulle, notée <span class="math inline">\(H_o\)</span> :</p>
<p><span class="math display">\[
H_o : \theta\ \in\ \theta_o
\]</span></p></li>
<li><p>Une hypothèse alternative, notée <span class="math inline">\(H_1\)</span>:</p>
<p><span class="math display">\[
H_1 : \theta\ \notin\ \theta_0
\]</span></p></li>
</ul>
<p>Avec <span class="math inline">\(\theta_o\)</span> une valeur spécifiée pour un paramètre <span class="math inline">\(\theta\)</span> de la population.</p>
</section>
<section id="test-et-test-paramétrique" class="level3">
<h3 class="anchored" data-anchor-id="test-et-test-paramétrique">Test et test paramétrique</h3>
<p>Un test est la donnée d’un jeu d’hypothèse et d’une règle de décision.</p>
<p>Un test peut être unilatéral si l’hypothèse <span class="math inline">\(H_1\)</span> s’exprime sous forme d’inégalités strictes ou bilatéral si <span class="math inline">\(H_1\)</span> s’exprime sous forme de différences (<span class="math inline">\(\neq\)</span>).</p>
<p>Un test paramétrique est un test pour lequel des hypothèses sur la distribution des populations sont requises.</p>
</section>
<section id="erreurs-et-risques" class="level3">
<h3 class="anchored" data-anchor-id="erreurs-et-risques">Erreurs et risques</h3>
<p>Lorsqu’on prend l’hypothèse nulle, la valeur estimée <span class="math inline">\(\theta_o\)</span> pour un paramètre <span class="math inline">\(\theta\)</span> de la population peut conduire à des erreurs. Ces erreurs sont habituellement classés en 2 catégories :</p>
<ul>
<li><p>L’erreur de première espèce;</p></li>
<li><p>L’erreur de seconde espèce</p></li>
</ul>
<p>Chaque erreur entraine un risque qui lui correspond :</p>
<ul>
<li><p>Le risque de première espèce, notée <span class="math inline">\(\alpha\)</span>, est le risque de rejeter l’hypothèse <span class="math inline">\(H_o\)</span> alors qu’en réalité cette hypothèse est vraie;</p></li>
<li><p>Le risque de seconde espèce, notée <span class="math inline">\(\gamma\)</span>, est le risque d’accepter l’hypothèse <span class="math inline">\(H_o\)</span> alors qu’en réalité cette hypothèse est fausse</p></li>
</ul>
<p>Le tableau suivant résume l’ensemble des couples (décisions/réalités) possibles :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/tableau.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>La quantité <span class="math inline">\(\beta\)</span> est une probabilité de bonne décision appelée puissance du test.</p>
<p>Lien utile : <a href="https://www.imo.universite-paris-saclay.fr/~pierre.pansu/web_ifips/Tests.pdf">Récapitulatif des tests statistiques</a></p>
</section>
</section>
<section id="econométrie" class="level2">
<h2 class="anchored" data-anchor-id="econométrie">Econométrie</h2>
<section id="modèle-linéaire" class="level3">
<h3 class="anchored" data-anchor-id="modèle-linéaire">Modèle linéaire</h3>
<p>On cherche à expliquer / prédire une variable <span class="math inline">\(Y_i\)</span> à l’aide de p variables aléatoires <span class="math inline">\(X_i^{(1)}, …, X_i^{(p)}\)</span>.</p>
<p>On considère le modèle :</p>
<p><span class="math display">\[
Y_i = X_i^{(1)}\beta_1\ +\ ...\ +\ X_i^{(p)}\beta_p\ +\ \epsilon_i,\ \forall i\ \in\ [1;n].
\]</span></p>
<p>Pour déterminer les paramètres à estimer du modèle, il est plus simple d’écrire le modèle sous forme matricielle :</p>
<p><span class="math display">\[
Y = X\beta\ +\ \epsilon
\]</span></p>
<p><span class="math inline">\(Y \in R^n\)</span> est appelée variable endogène, c’est à dire la variable à expliquer ou prédire.</p>
<p><span class="math inline">\(X \in M_{n,p}(R)\)</span> et contient les <span class="math inline">\(X_i^{(1)}, …, X_i^{(p)}\)</span> qui sont appelées variables exogènes, c’est à dire les variables explicatives.</p>
<p><span class="math inline">\(\beta \in R^p\)</span> contient les paramètres à estimer du modèle.</p>
<p><span class="math inline">\(\epsilon \in R^p\)</span> contient le terme d’erreur du modèle non observable.</p>
</section>
<section id="hypothèses-sur-les-erreurs" class="level3">
<h3 class="anchored" data-anchor-id="hypothèses-sur-les-erreurs">Hypothèses sur les erreurs</h3>
<p>4 <strong>hypothèses sur les erreurs</strong> sont à vérifier dans le cadre d’un modèle linéaire OLS :</p>
<ul>
<li><p><span class="math inline">\(\forall i \in [1;n];\ E(\epsilon_i) = 0\)</span> : les erreurs sont centrées;</p></li>
<li><p><span class="math inline">\(\forall i \in [1;n];\ V(\epsilon_i) = \sigma^2\)</span> : les erreurs sont homoscédastiques;</p></li>
<li><p><span class="math inline">\(\forall i\neq j \in [1; n]; E(\epsilon_i,\epsilon_j) = 0\)</span> : les erreurs ne sont pas auto-corrélées;</p></li>
<li><p><span class="math inline">\(\forall i \in [1;n]; \epsilon_i\ ∼ N(0,\sigma^2)\)</span> : les erreurs sont normalement distribuées.</p></li>
</ul>
</section>
<section id="hypothèses-structurelle" class="level3">
<h3 class="anchored" data-anchor-id="hypothèses-structurelle">Hypothèses structurelle</h3>
<p>Dans le cadre d’un modèle linéaire OLS, on doit retrouver 3 hypothèses structurelles :</p>
<ul>
<li>Les variables <span class="math inline">\(X_1, …, X_p\)</span> sont orthogonales à <span class="math inline">\(\epsilon\)</span>;</li>
<li>Les variables <span class="math inline">\(X_1, …, X_p\)</span> forment une base de <span class="math inline">\(R^{p+1}\)</span>;</li>
<li>n &gt; p+1.</li>
</ul>
</section>
<section id="décomposition-de-la-variance" class="level3">
<h3 class="anchored" data-anchor-id="décomposition-de-la-variance">Décomposition de la variance</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Capture d’écran 2023-01-21 124938.png" class="img-fluid figure-img" width="439"></p>
</figure>
</div>
<p>L’équation d’analyse de la variance est : SCT = SCE + SCR, cela veut dire que la somme des carrées totale = somme des carrées expliquée + la somme des carrées résiduelle.</p>
</section>
<section id="coefficient-de-détérmination" class="level3">
<h3 class="anchored" data-anchor-id="coefficient-de-détérmination">Coefficient de détérmination</h3>
<p>Le coefficient de détérmination noté <span class="math inline">\(R^2\)</span> est défini par :</p>
<p><span class="math display">\[
R^2 = \frac{SCE}{SCR}.
\]</span></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>